{"version":3,"file":"bundles/pages/coinDetail.js","sources":["webpack:///webpack/bootstrap 3c9d350be6a2825263a2","webpack:///client/components/inventory/coins/CoinDetail.js","webpack:///client/components/inventory/coins/Coins.scss","webpack:///client/components/inventory/pinchZoom/PinchZoom.js","webpack:///client/components/inventory/pinchZoom/PinchZoom.scss","webpack:///client/pages/coinDetail.js","webpack:///external \"@babel/runtime/regenerator\"","webpack:///external \"axios\"","webpack:///external \"next/router\"","webpack:///external \"prop-types\"","webpack:///external \"react\""],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tvar threw = true;\n \t\ttry {\n \t\t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\t\tthrew = false;\n \t\t} finally {\n \t\t\tif(threw) delete installedModules[moduleId];\n \t\t}\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3c9d350be6a2825263a2","import React, { Component } from \"react\";\nimport Router from \"next/router\";\nimport axios from \"axios\";\n\nimport Proptypes from \"prop-types\";\nimport PinchZoom from \"../pinchZoom/PinchZoom.js\";\nimport CoinStyle from \"./Coins.scss\";\n\nclass CoinDetail extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      imgSelect: this.props.coinDetailData.images[0],\n      validationCart: { status: \"\", data: \"\" }\n    };\n    this.addCoinToCart = this.addCoinToCart.bind(this);\n    this.changeImg = this.changeImg.bind(this);\n    this.comeBack = this.comeBack.bind(this);\n  }\n\n  changeImg(index) {\n    let imgSelect = this.props.coinDetailData.images[index];\n    this.setState({ imgSelect });\n  }\n\n  comeBack() {\n    Router.push({\n      pathname: \"/inventory\"\n    });\n  }\n\n  addCoinToCart() {\n    let coin = this.props.coinDetailData;\n    axios\n      .post(\"/addToCart\", coin)\n      .then(res => {\n        console.log(res);\n        this.setState({\n          validationCart: {\n            status: res.status,\n            data: res.data\n          }\n        });\n      })\n      .catch(err => {\n        console.log(err.response);\n        this.setState({\n          validationCart: {\n            status: err.response.status,\n            data: err.response.data.err\n          }\n        });\n      });\n  }\n  render() {\n    const { coinDetailData } = this.props;\n    return (\n      <>\n        <style dangerouslySetInnerHTML={{ __html: CoinStyle }} />\n        <div className=\"row h-100 p-4\">\n          <div className=\"col-xl-10 mx-auto col-lg-10 mx-auto\">\n            <div className=\"row \">\n              <button\n                className=\"btn btn-primary btn-md\"\n                onClick={this.comeBack}\n              >\n                <i className=\"fas fa-arrow-left pr-2\" />\n                Back to Inventory\n              </button>\n            </div>\n            <div className=\"row h-100 mt-xl-4 mt-lg-4\">\n              <div className=\"col-xl-6 col-lg-8 p-0\">\n                <div className=\"row text-center  h-75\">\n                  <PinchZoom initialScale=\"0\" minScale=\"1\" maxScale=\"10\">\n                    <img\n                      className=\"img-pinch\"\n                      src={this.state.imgSelect}\n                      alt=\"\"\n                    />\n                  </PinchZoom>\n                </div>\n                <div className=\"row mt-3\">\n                  <div className=\"col-xl-5 col-lg-5 mx-auto\">\n                    <div className=\"row\">\n                      {coinDetailData.images.map((img, index) => (\n                        <div key={index} className=\"col-lg-6 col-xl-6\">\n                          <img\n                            className=\"img-thumbnail\"\n                            src={img}\n                            alt=\"\"\n                            onClick={() => {\n                              this.changeImg(index);\n                            }}\n                          />\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-xl-4 col-lg-4  mx-auto\">\n                <div className=\"row row-card p-3\">\n                  <div className=\"col-xl-12 col-lg-12 text-left\">\n                    <h3 className=\"coin-detail-title mt-4\">\n                      {coinDetailData.name}{\" \"}\n                    </h3>\n                    <p className=\"coin-detail-description mt-3\">\n                      {coinDetailData.description}\n                    </p>\n                    <p className=\"coin-detail-categories\">\n                      {coinDetailData.categories.map((coin, index) => (\n                        <span key={index}>\n                          {\"  \"}\n                          {coin}\n                        </span>\n                      ))}\n                    </p>\n                    <div className=\"row mt-5\">\n                      <div className=\"col-xl-6 col-lg-6\">\n                        <p className=\"coin-detail-price\">\n                          {coinDetailData.price}\n                        </p>\n                      </div>\n                      <div className=\"col-xl-6 col-lg-6\">\n                        <button\n                          onClick={this.addCoinToCart}\n                          className=\"btn btn-gold\"\n                        >\n                          ADD TO CART\n                        </button>\n                      </div>\n                    </div>\n                    <div className=\"row\">\n                      {this.state.validationCart.status === 401 ? (\n                        <p className=\"validation-error ml-auto pr-4\">\n                          {this.state.validationCart.data}\n                        </p>\n                      ) : (\n                        <p className=\"validation-success ml-auto pr-4\">\n                          {this.state.validationCart.data}\n                        </p>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nCoinDetail.protoType = {\n  coinDetailData: Proptypes.object.isRequired\n};\n\nexport default CoinDetail;\n\n\n\n// WEBPACK FOOTER //\n// client/components/inventory/coins/CoinDetail.js","module.exports = \"\\n@import url(\\\"https://use.typekit.net/bcx7vnk.css\\\");\\n@import url(\\\"https://use.typekit.net/bcx7vnk.css\\\");\\n/*Variables*/\\n.coin-detail-title, .coin-detail-description,\\n.coin-detail-categories {\\n  font-family: mrs-eaveas, serif;\\n  font-style: normal;\\n  font-weight: 400; }\\n.validation-error, .validation-success {\\n  font-family: mrs-eaveas, serif;\\n  font-style: italic;\\n  font-weight: 400; }\\n.btn-gold, .coin-title {\\n  font-family: mr-eaves-sans, sans-serif;\\n  font-style: normal;\\n  font-weight: 400; }\\n.btn-gold {\\n  background-color: #e9ab21;\\n  color: #fff;\\n  border-radius: 4px; }\\n.btn-gold {\\n  font-size: 16px;\\n  padding: 10px 18px 10px 18px; }\\n.btn-primary {\\n  font-size: 14px;\\n  padding: 10px 18px 10px 10px;\\n  background-color: #1472b9; }\\n.coin-title {\\n  font-size: 20px; }\\n.coin-price {\\n  font-family: Roboto;\\n  font-size: 16px; }\\n.coin-image {\\n  width: 230px; }\\n.row-card {\\n  border: 1px solid #d3d3d3;\\n  box-shadow: 5px 5px 5px darkgrey; }\\n.img-thumbnail:hover {\\n  border: 1px solid #e9ab21; }\\n.img-pinch {\\n  width: 500px; }\\n.coin-detail-categories {\\n  font-size: 14px;\\n  color: darkgrey; }\\n.coin-detail-description {\\n  font-size: 16px; }\\n.coin-detail-price {\\n  font-family: Roboto;\\n  font-size: 32px; }\\n.validation-error, .validation-success {\\n  font-size: 16px; }\\n.validation-error {\\n  color: lightcoral; }\\n.validation-success {\\n  color: darkgreen; }\\n\"\n\n\n// WEBPACK FOOTER //\n// client/components/inventory/coins/Coins.scss","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport pinchStyle from \"./PinchZoom.scss\";\n\nconst SNAP_TOLERANCE = 0.001;\nconst OVER_TRANSFORMATION_TOLERANCE = 0.05;\nconst DOUBLE_TAP_THRESHOLD = 100;\nconst ANIMATION_SPEED = 0.1;\n\nconst snapToTarget = (value, target, tolerance) => {\n  const withinRange = Math.abs(target - value) < tolerance;\n  return withinRange ? target : value;\n};\n\nconst rangeBind = (lowerBound, upperBound, value) =>\n  Math.min(upperBound, Math.max(lowerBound, value));\n\nconst invert = value => value * -1;\n\nconst getRelativePosition = ({ clientX, clientY }, relativeToElement) => {\n  const rect = relativeToElement.getBoundingClientRect();\n  return {\n    x: clientX - rect.left,\n    y: clientY - rect.top\n  };\n};\n\nconst getMidpoint = (pointA, pointB) => ({\n  x: (pointA.x + pointB.x) / 2,\n  y: (pointA.y + pointB.y) / 2\n});\n\nconst getDistanceBetweenPoints = (pointA, pointB) =>\n  Math.sqrt(\n    Math.pow(pointA.y - pointB.y, 2) + Math.pow(pointA.x - pointB.x, 2)\n  );\n\nconst ZoomOutButton = ({ disabled, onClick }) => (\n  <button\n    className=\"iconButton\"\n    style={{ margin: \"10px\" }}\n    onClick={onClick}\n    disabled={disabled}\n  >\n    <i className=\"fas fa-minus\" />{\" \"}\n  </button>\n);\n\nconst ZoomInButton = ({ disabled, onClick }) => (\n  <button\n    className=\"iconButton\"\n    style={{ margin: \"10px\", marginLeft: \"0px\" }}\n    onClick={onClick}\n    disabled={disabled}\n  >\n    <i className=\"fas fa-plus\" />\n  </button>\n);\n\nexport default class PinchZoomPan extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      padding: \"0px\"\n    };\n\n    this.handleTouchStart = this.handleTouchStart.bind(this);\n    this.handleTouchMove = this.handleTouchMove.bind(this);\n    this.handleTouchEnd = this.handleTouchEnd.bind(this);\n    this.handleMouseDown = this.handleMouseDown.bind(this);\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n    this.handleMouseUp = this.handleMouseUp.bind(this);\n    this.handleMouseWheel = this.handleMouseWheel.bind(this);\n    this.handleWindowResize = this.handleWindowResize.bind(this);\n    this.handleImageLoad = this.handleImageLoad.bind(this);\n  }\n\n  //event handlers\n  handleTouchStart(event) {\n    this.animation && cancelAnimationFrame(this.animation);\n\n    const touches = event.touches;\n    if (touches.length === 2) {\n      this.pinchStart(touches);\n      this.lastPanPointerPosition = null;\n    } else if (touches.length === 1) {\n      this.pointerDown(touches[0]);\n    }\n  }\n\n  handleTouchMove(event) {\n    const touches = event.touches;\n    if (touches.length === 2) {\n      //suppress viewport scaling\n      event.preventDefault();\n      this.pinchChange(touches);\n    } else if (touches.length === 1) {\n      const swipingDown = this.pan(touches[0]) > 0;\n      if (swipingDown && this.state.top < 0) {\n        //suppress pull-down-refresh since swiping down will reveal the hidden overflow of the image\n        event.preventDefault();\n      }\n    }\n  }\n\n  handleTouchEnd(event) {\n    if (event.touches && event.touches.length > 0) return null;\n\n    //We allow transient +/-5% over-pinching.\n    //Animate the bounce back to constraints if applicable.\n    this.ensureValidTransform(ANIMATION_SPEED);\n\n    this.pointerUp(event.timeStamp);\n\n    //suppress mouseUp, in case of tap\n    event.preventDefault();\n  }\n\n  handleMouseDown(event) {\n    this.animation && cancelAnimationFrame(this.animation);\n    this.mouseDown = true;\n    this.pointerDown(event);\n  }\n\n  handleMouseMove(event) {\n    if (!this.mouseDown) return null;\n    this.pan(event);\n  }\n\n  handleMouseUp(event) {\n    this.pointerUp(event.timeStamp);\n    if (this.mouseDown) {\n      this.mouseDown = false;\n    }\n  }\n\n  handleMouseWheel(event) {\n    this.animation && cancelAnimationFrame(this.animation);\n    const point = getRelativePosition(event, this.container);\n    if (event.deltaY > 0) {\n      if (this.state.scale > this.minScale) {\n        this.zoomOut(point);\n        event.preventDefault();\n      }\n    } else if (event.deltaY < 0) {\n      if (this.state.scale < this.props.maxScale) {\n        this.zoomIn(point);\n        event.preventDefault();\n      }\n    }\n  }\n\n  handleWindowResize(event) {\n    this.ensureConstraints();\n  }\n\n  handleImageLoad() {\n    this.ensureConstraints();\n  }\n\n  //actions\n  pointerDown(clientPosition) {\n    this.lastPanPointerPosition = getRelativePosition(\n      clientPosition,\n      this.container\n    );\n  }\n\n  pan(pointerClientPosition) {\n    const pointerPosition = getRelativePosition(\n      pointerClientPosition,\n      this.container\n    );\n    const translateX = pointerPosition.x - this.lastPanPointerPosition.x;\n    const translateY = pointerPosition.y - this.lastPanPointerPosition.y;\n    const top = this.state.top + translateY;\n    const left = this.state.left + translateX;\n\n    //use 0 tolerance to prevent over-panning (doesn't look good)\n    this.move(top, left, 0);\n    this.lastPanPointerPosition = pointerPosition;\n    return translateY > 0\n      ? 1 //swiping down\n      : translateY < 0\n        ? -1 //swiping up\n        : 0;\n  }\n\n  pointerUp(timeStamp) {\n    if (\n      this.lastPointerUpTimeStamp &&\n      this.lastPointerUpTimeStamp + DOUBLE_TAP_THRESHOLD > timeStamp\n    ) {\n      //reset\n      this.transformToProps(ANIMATION_SPEED);\n    }\n\n    this.lastPointerUpTimeStamp = timeStamp;\n  }\n\n  move(top, left, tolerance, speed = 0) {\n    this.applyTransform(top, left, this.state.scale, tolerance, speed);\n  }\n\n  pinchStart(touches) {\n    const pointA = getRelativePosition(touches[0], this.container);\n    const pointB = getRelativePosition(touches[1], this.container);\n    this.lastPinchLength = getDistanceBetweenPoints(pointA, pointB);\n  }\n\n  pinchChange(touches) {\n    const pointA = getRelativePosition(touches[0], this.container);\n    const pointB = getRelativePosition(touches[1], this.container);\n    const length = getDistanceBetweenPoints(pointA, pointB);\n    const scale = (this.state.scale * length) / this.lastPinchLength;\n    const midpoint = getMidpoint(pointA, pointB);\n\n    this.zoom(scale, midpoint, OVER_TRANSFORMATION_TOLERANCE);\n\n    this.lastPinchMidpoint = midpoint;\n    this.lastPinchLength = length;\n  }\n\n  zoomIn(midpoint) {\n    midpoint = midpoint || {\n      x: this.container.offsetWidth / 2,\n      y: this.container.offsetHeight / 2\n    };\n\n    this.zoom(this.state.scale * 5, midpoint, 0);\n    this.setState({ padding: \"150px\" });\n  }\n\n  zoomOut(midpoint) {\n    midpoint = midpoint || {\n      x: this.container.offsetWidth / 2,\n      y: this.container.offsetHeight / 2\n    };\n    this.zoom(this.state.scale * 0.2, midpoint, 0);\n    let padding;\n    this.state.scale === 10 ? (padding = 80) : (padding = 0);\n    console.log(padding, this.state.scale);\n\n    this.setState({ padding: `${padding}px` });\n    console.log(this.state.padding);\n  }\n\n  zoom(scale, midpoint, tolerance, speed = 0) {\n    scale = this.getValidTransform(0, 0, scale, tolerance).scale;\n\n    const incrementalScalePercentage =\n      (this.state.scale - scale) / this.state.scale;\n    const translateY =\n      (midpoint.y - this.state.top) * incrementalScalePercentage;\n    const translateX =\n      (midpoint.x - this.state.left) * incrementalScalePercentage;\n\n    const top = this.state.top + translateY;\n    const left = this.state.left + translateX;\n\n    this.applyTransform(top, left, scale, tolerance, speed);\n  }\n\n  //state validation and transformation methods\n  applyTransform(\n    requestedTop,\n    requestedLeft,\n    requestedScale,\n    tolerance,\n    speed = 0\n  ) {\n    const { top, left, scale } = this.getValidTransform(\n      requestedTop,\n      requestedLeft,\n      requestedScale,\n      tolerance\n    );\n\n    if (\n      this.state.scale === scale &&\n      this.state.top === top &&\n      this.state.left === left\n    ) {\n      return;\n    }\n\n    if (speed > 0) {\n      const frame = () => {\n        const translateY = top - this.state.top;\n        const translateX = left - this.state.left;\n        const translateScale = scale - this.state.scale;\n\n        const nextTransform = {\n          top: snapToTarget(\n            this.state.top + speed * translateY,\n            top,\n            SNAP_TOLERANCE\n          ),\n          left: snapToTarget(\n            this.state.left + speed * translateX,\n            left,\n            SNAP_TOLERANCE\n          ),\n          scale: snapToTarget(\n            this.state.scale + speed * translateScale,\n            scale,\n            SNAP_TOLERANCE\n          )\n        };\n\n        this.setState(\n          nextTransform,\n          () => (this.animation = requestAnimationFrame(frame))\n        );\n      };\n      this.animation = requestAnimationFrame(frame);\n    } else {\n      this.setState({\n        top,\n        left,\n        scale\n      });\n    }\n  }\n\n  getValidTransform(top, left, scale, tolerance) {\n    const transform = {\n      scale: scale || 1,\n      top: top || 0,\n      left: left || 0\n    };\n    const lowerBoundFactor = 1.0 - tolerance;\n    const upperBoundFactor = 1.0 + tolerance;\n\n    transform.scale = rangeBind(\n      this.minScale * lowerBoundFactor,\n      this.props.maxScale * upperBoundFactor,\n      transform.scale\n    );\n\n    //get dimensions by which scaled image overflows container\n    const negativeSpace = this.calculateNegativeSpace(transform.scale);\n    const overflow = {\n      width: Math.max(0, invert(negativeSpace.width)),\n      height: Math.max(0, invert(negativeSpace.height))\n    };\n\n    //prevent moving by more than the overflow\n    //example: overflow.height = 100, tolerance = 0.05 => top is constrained between -105 and +5\n    transform.top = rangeBind(\n      invert(overflow.height) * upperBoundFactor,\n      overflow.height * upperBoundFactor - overflow.height,\n      transform.top\n    );\n    transform.left = rangeBind(\n      invert(overflow.width) * upperBoundFactor,\n      overflow.width * upperBoundFactor - overflow.width,\n      transform.left\n    );\n\n    return transform;\n  }\n\n  transformToProps(speed = 0) {\n    const scale =\n      this.props.initialScale === \"auto\"\n        ? this.calculateAutofitScale()\n        : this.props.initialScale;\n    this.applyTransform(\n      this.props.initialTop,\n      this.props.initialLeft,\n      scale,\n      0,\n      speed\n    );\n  }\n\n  ensureValidTransform(speed = 0) {\n    this.applyTransform(\n      this.state.top,\n      this.state.left,\n      this.state.scale,\n      0,\n      speed\n    );\n  }\n\n  //lifecycle methods\n  render() {\n    const childElement = React.Children.only(this.props.children);\n    const { ref: originalRef } = childElement;\n    const composedRef = element => {\n      this.image = element;\n      if (typeof originalRef === \"function\") {\n        originalRef(element);\n      }\n    };\n    return (\n      <div\n        style={{\n          position: \"relative\",\n          overflow: \"hidden\",\n          width: \"100%\",\n          height: \"100%\"\n        }}\n      >\n        <style dangerouslySetInnerHTML={{ __html: pinchStyle }} />\n\n        {this.props.zoomButtons && (\n          <div\n            style={{ position: \"absolute\", bottom: 0, right: 0, zIndex: 1000 }}\n          >\n            <ZoomOutButton\n              onClick={() => this.zoomOut()}\n              disabled={this.state.scale <= this.minScale}\n            />\n            <ZoomInButton\n              onClick={() => this.zoomIn()}\n              disabled={this.state.scale >= this.props.maxScale}\n            />\n          </div>\n        )}\n        {React.cloneElement(childElement, {\n          onTouchStart: this.handleTouchStart,\n          onTouchEnd: this.handleTouchEnd,\n          onMouseDown: this.handleMouseDown,\n          onMouseMove: this.handleMouseMove,\n          onMouseUp: this.handleMouseUp,\n          onWheel: this.handleMouseWheel,\n          onDragStart: event => event.preventDefault(),\n          onLoad: this.handleImageLoad,\n          ref: composedRef,\n          style: {\n            cursor: \"pointer\",\n            transform: `translate3d(${this.state.left}px, ${\n              this.state.top\n            }px, 0) scale(${this.state.scale})`,\n            transformOrigin: \"0 0\",\n            padding: `${this.state.padding}`\n          }\n        })}\n      </div>\n    );\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (\n      nextProps.initialTop !== prevState.initialTop ||\n      nextProps.initialLeft !== prevState.initialLeft ||\n      nextProps.initialScale !== prevState.initialScale\n    ) {\n      return {\n        initialTop: nextProps.initialTop,\n        initialLeft: nextProps.initialLeft,\n        initialScale: nextProps.initialScale\n      };\n    } else {\n      return null;\n    }\n  }\n\n  componentDidMount() {\n    this.image.addEventListener(\"touchmove\", this.handleTouchMove, {\n      passive: false\n    });\n    window.addEventListener(\"resize\", this.handleWindowResize);\n\n    //Using the child image's original parent enables flex items, e.g., dimensions not explicitly set\n    this.container = this.image.parentNode.parentNode;\n    if (this.image.offsetWidth && this.image.offsetHeight) {\n      this.applyConstraints();\n      this.transformToProps();\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.image.offsetWidth && this.image.offsetHeight) {\n      this.ensureConstraints();\n      if (typeof this.state.scale === \"undefined\") {\n        //reset to new props\n        this.transformToProps();\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this.image.removeEventListener(\"touchmove\", this.handleTouchMove);\n    window.removeEventListener(\"resize\", this.handleWindowResize);\n  }\n\n  //sizing methods\n  ensureConstraints() {\n    if (this.image.offsetWidth && this.image.offsetHeight) {\n      const negativeSpace = this.calculateNegativeSpace(1);\n      if (\n        !this.lastUnzoomedNegativeSpace ||\n        negativeSpace.height !== this.lastUnzoomedNegativeSpace.height ||\n        negativeSpace.width !== this.lastUnzoomedNegativeSpace.width\n      ) {\n        //image and/or container dimensions have been set / updated\n        this.applyConstraints();\n        this.forceUpdate();\n      }\n    }\n  }\n\n  applyConstraints() {\n    let minScale = 1;\n    if (this.props.minScale === \"auto\") {\n      minScale = this.calculateAutofitScale();\n    } else {\n      minScale = this.props.minScale;\n    }\n\n    if (this.minScale !== minScale) {\n      this.minScale = minScale;\n      this.ensureValidTransform();\n    }\n\n    this.lastUnzoomedNegativeSpace = this.calculateNegativeSpace(1);\n  }\n\n  calculateNegativeSpace(scale = this.state.scale) {\n    //get difference in dimension between container and scaled image\n    const width = this.container.offsetWidth - scale * this.image.offsetWidth;\n    const height =\n      this.container.offsetHeight - scale * this.image.offsetHeight;\n    return {\n      width,\n      height\n    };\n  }\n\n  calculateAutofitScale() {\n    let autofitScale = 1;\n    if (this.image.offsetWidth > 0) {\n      autofitScale = Math.min(\n        this.container.offsetWidth / this.image.offsetWidth,\n        autofitScale\n      );\n    }\n    if (this.image.offsetHeight > 0) {\n      autofitScale = Math.min(\n        this.container.offsetHeight / this.image.offsetHeight,\n        autofitScale\n      );\n    }\n    return autofitScale;\n  }\n}\n\nPinchZoomPan.defaultProps = {\n  initialTop: 0,\n  initialLeft: 0,\n  initialScale: 1,\n  minScale: 1,\n  maxScale: 10,\n  zoomButtons: true\n};\n\nPinchZoomPan.propTypes = {\n  children: PropTypes.element.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// client/components/inventory/pinchZoom/PinchZoom.js","module.exports = \".iconButton {\\n  background-image: linear-gradient(to bottom, #fff 0%, #e0e0e0 100%);\\n  background-color: #fff;\\n  background-repeat: repeat-x;\\n  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.15), 0 1px 1px rgba(0, 0, 0, 0.075);\\n  padding: 8px;\\n  border: 1px solid transparent;\\n  border-radius: 100%;\\n  cursor: pointer;\\n  text-shadow: 0 1px 0 #fff;\\n  color: #333;\\n  font-size: 18px;\\n  line-height: 12px; }\\n\\n.iconButton:hover {\\n  color: #333;\\n  background-color: #e6e6e6;\\n  border-color: #adadad;\\n  background-position: 0 -15px; }\\n\\n.iconButton[disabled] {\\n  opacity: .65;\\n  box-shadow: none;\\n  background-color: #e0e0e0;\\n  background-image: none; }\\n\\n.iconButton[disabled]:hover {\\n  border-color: #ccc;\\n  cursor: default; }\\n\"\n\n\n// WEBPACK FOOTER //\n// client/components/inventory/pinchZoom/PinchZoom.scss","import React, { Component } from \"react\";\nimport CoinDetail from \"../components/inventory/coins/CoinDetail\";\nclass inventoryPage extends Component {\n  static async getInitialProps({ req, query }) {\n    let coin;\n    if (req) {\n      coin = query.query;\n    }\n    return { coin };\n  }\n  render() {\n    return (\n      <div>\n        <CoinDetail coinDetailData={this.props.coin} />\n      </div>\n    );\n  }\n}\nexport default inventoryPage;\n\n\n\n// WEBPACK FOOTER //\n// client/pages/coinDetail.js","module.exports = require(\"@babel/runtime/regenerator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@babel/runtime/regenerator\"\n// module id = @babel/runtime/regenerator\n// module chunks = 0 3 4 5","module.exports = require(\"axios\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"axios\"\n// module id = axios\n// module chunks = 3 4 5","module.exports = require(\"next/router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"next/router\"\n// module id = next/router\n// module chunks = 3 4 5","module.exports = require(\"prop-types\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"prop-types\"\n// module id = prop-types\n// module chunks = 3 4 5","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = react\n// module chunks = 0 1 3 4 5"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAFA;AAIA;AACA;AACA;AARA;AASA;AACA;;;AACA;AACA;AACA;AAAA;AAAA;AACA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AAAA;AACA;AAAA;AACA;AAGA;AACA;AAAA;AACA;AACA;AACA;AAFA;AADA;AAMA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAFA;AADA;AAMA;AACA;;;AACA;AAAA;AACA;AADA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAFA;AAgBA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;;;;AA/IA;AACA;AAiJA;AACA;AADA;AAIA;;;;;;;;;;;;AC9JA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAAA;AACA;AACA;AAFA;AAAA;AACA;AAIA;AAAA;AAAA;AACA;AAIA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPA;AACA;AAUA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPA;AACA;AAUA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AAEA;AACA;AADA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAgBA;AACA;AACA;;;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AAGA;AACA;AAAA;AAEA;AACA;AAEA;AACA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AACA;;;AAEA;AACA;AAIA;;;AAEA;AACA;AAIA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAEA;AAGA;;;AAEA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AAFA;AAKA;AACA;AAAA;AAAA;AACA;;;AAEA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;;;AAEA;AAAA;AACA;AAEA;AAEA;AAEA;AAGA;AACA;AAEA;AACA;AACA;;;AAGA;AAKA;AACA;AADA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAOA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAKA;AAKA;AAXA;AACA;AAiBA;AAEA;AAAA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAEA;AACA;AAMA;AACA;AACA;AACA;AAFA;AAMA;AACA;AAAA;AAKA;AAMA;AACA;;;AAEA;AAAA;AACA;AAIA;AAOA;;;AAEA;AAAA;AACA;AAOA;AACA;;;AAEA;AAAA;AACA;AAAA;AADA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAJA;AADA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AANA;AAVA;AAqBA;;;AAkBA;AACA;AACA;AADA;AAGA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAFA;AAIA;;;AAEA;AACA;AACA;AAAA;AACA;AAIA;AACA;AAAA;AACA;AAIA;AACA;AAAA;AACA;;;AAvGA;AACA;AAKA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;;;;AAjZA;AACA;AADA;AA6eA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AASA;AACA;AADA;;;;;;;;;;;;ACjjBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AAAA;;;;;;;;;;;;;AAQA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;;;;;;;;;AAbA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;AAPA;AACA;AAeA;;;;;;;;;;;;;;;AClBA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;A","sourceRoot":""}